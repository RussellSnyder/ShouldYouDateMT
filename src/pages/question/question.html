<!--
  Generated template for the QuestionPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title text-center>{{title}}</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <form [formGroup]="questionForm" (ngSubmit)="onSubmit()">
        <ion-list>
            <ion-item>
                <ion-label floating>Question</ion-label>
                <ion-textarea formControlName="question"></ion-textarea>
            </ion-item>
            <ion-item>
                <ion-label floating>Weight</ion-label>
                <ion-input type="number" min="0" max="10" formControlName="weight"></ion-input>
            </ion-item>
        </ion-list>
        <button
                type="button"
                clear
                ion-button
                block
                (click)="onManageAnswers()">Manage Answers
        </button>
        <ion-list formArrayName="answers">
            <ion-item *ngFor="let answer of questionForm.get('answers').controls; let i = index">
                <ion-label floating>Answer</ion-label>
                {{ answer.value }}
                <ion-input type="text" [formControlName]="i"></ion-input>
            </ion-item>
        </ion-list>


        <button block
                type="submit"
                ion-button
                [disabled]="!questionForm.valid"
        >
            {{buttonText}}
        </button>
    </form>
</ion-content>
